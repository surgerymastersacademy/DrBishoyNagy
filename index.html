<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dr. Bishoy Nagy - Plastic Surgery Consultant | دكتور بيشوي ناجي - استشاري جراحات التجميل</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Styles -->
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            scroll-behavior: smooth;
            background-color: #f8f9fa;
        }
        .text-gradient {
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            background-image: linear-gradient(to right, #3b82f6, #8b5cf6);
        }
        .card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            overflow: hidden;
        }
        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }
        #mobile-menu {
            display: none;
            transition: all 0.3s ease-in-out;
        }
        .page-content {
            display: none;
        }
        .page-content.active {
            display: block;
        }
        .nav-link {
            position: relative;
            transition: color 0.3s ease;
            padding: 8px 16px;
        }
        .nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 9999px;
            background-color: #3b82f61a;
            transform: scale(0.8);
            opacity: 0;
            transition: all 0.3s ease-in-out;
            z-index: -1;
        }
        .nav-link:hover::before,
        .nav-link.active::before {
            transform: scale(1);
            opacity: 1;
        }
        .nav-link.active {
            color: #3b82f6;
            font-weight: 700;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .active {
            animation: fadeIn 0.5s ease-in-out;
        }
        /* Accordion styles */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        /* Language switcher styles */
        #lang-switcher {
            width: 80px;
            height: 36px;
        }
        #lang-slider {
            transition: transform 0.3s ease-in-out;
        }
        html[dir="ltr"] #lang-slider {
            transform: translateX(100%);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- =============================================== -->
    <!-- ============== Floating Pill Header ============== -->
    <!-- =============================================== -->
    <header class="sticky top-0 z-50 p-4">
        <nav class="container mx-auto">
            <div class="bg-white/80 backdrop-blur-md rounded-full shadow-xl flex items-center justify-between p-2">
                <div class="flex-shrink-0 ml-2">
                    <a href="#" onclick="showPage('home')" aria-label="العودة للصفحة الرئيسية">
                        <img class="h-12 w-auto" src="https://raw.githubusercontent.com/surgerymastersacademy/DrBishoyNagy/174c205ad5633f173c2944a1fa60d01a866d4377/Images/Dr%20Bishoy%20Logo%202024.png" alt="شعار عيادة دكتور بيشوي ناجي" onerror="this.onerror=null;this.src='https://placehold.co/150x48/f8f9fa/333?text=Logo';">
                    </a>
                </div>
                
                <div class="hidden md:flex items-center justify-end flex-1">
                    <div id="desktop-nav" class="flex items-center space-x-2">
                        <a href="#" onclick="showPage('home')" class="nav-link flex items-center gap-2 text-gray-700 hover:text-blue-600 text-md font-medium active"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" /></svg><span data-lang-key="nav_home">الرئيسية</span></a>
                        <a href="#" onclick="showPage('about')" class="nav-link flex items-center gap-2 text-gray-700 hover:text-blue-600 text-md font-medium"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z" clip-rule="evenodd" /></svg><span data-lang-key="nav_about">عن الدكتور</span></a>
                        <a href="#" onclick="showPage('procedures')" class="nav-link flex items-center gap-2 text-gray-700 hover:text-blue-600 text-md font-medium"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" /><path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd" /></svg><span data-lang-key="nav_procedures">شرح العمليات</span></a>
                        <a href="#" onclick="showPage('testimonials')" class="nav-link flex items-center gap-2 text-gray-700 hover:text-blue-600 text-md font-medium"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z" /><path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h1a2 2 0 002-2V9a2 2 0 00-2-2h-1z" /></svg><span data-lang-key="nav_testimonials">آراء المرضى</span></a>
                        <a href="#" onclick="showPage('contact')" class="nav-link flex items-center gap-2 text-gray-700 hover:text-blue-600 text-md font-medium"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" /></svg><span data-lang-key="nav_contact">تواصل معنا</span></a>
                    </div>
                    <div class="flex items-center gap-4 mr-4">
                        <button id="lang-switcher" class="relative bg-gray-200 rounded-full p-1 flex items-center cursor-pointer">
                            <div id="lang-slider" class="absolute bg-blue-600 w-1/2 h-full rounded-full"></div>
                            <span class="w-1/2 text-center z-10 text-sm font-bold text-white">AR</span>
                            <span class="w-1/2 text-center z-10 text-sm font-bold text-gray-600">EN</span>
                        </button>
                        <a href="https://wa.me/201022323113" target="_blank" data-lang-key="nav_book" class="bg-blue-600 text-white font-bold py-2 px-4 rounded-full hover:bg-blue-700 transition duration-300 transform hover:scale-105 shadow-lg flex items-center gap-2">
                             <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 16 16"><path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.89 7.89 0 0 0 13.6 2.326zM7.994 14.521a6.57 6.57 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"/></svg>
                            <span>احجز موعدك</span>
                        </a>
                    </div>
                </div>

                <div class="md:hidden flex items-center mr-2">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-700 focus:outline-none" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">افتح القائمة الرئيسية</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
            </div>
             <!-- Mobile Menu Dropdown -->
            <div class="md:hidden" id="mobile-menu">
                <div id="mobile-nav-links" class="px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white rounded-xl shadow-lg mt-2">
                    <a href="#" onclick="showPage('home')" class="nav-link-mobile block text-gray-700 hover:bg-blue-50 px-3 py-2 rounded-md text-base font-medium">الرئيسية</a>
                    <a href="#" onclick="showPage('about')" class="nav-link-mobile block text-gray-700 hover:bg-blue-50 px-3 py-2 rounded-md text-base font-medium">عن الدكتور</a>
                    <a href="#" onclick="showPage('procedures')" class="nav-link-mobile block text-gray-700 hover:bg-blue-50 px-3 py-2 rounded-md text-base font-medium">شرح العمليات</a>
                    <a href="#" onclick="showPage('testimonials')" class="nav-link-mobile block text-gray-700 hover:bg-blue-50 px-3 py-2 rounded-md text-base font-medium">آراء المرضى</a>
                    <a href="#" onclick="showPage('contact')" class="nav-link-mobile block text-gray-700 hover:bg-blue-50 px-3 py-2 rounded-md text-base font-medium">تواصل معنا</a>
                    <a href="https://wa.me/201022323113" target="_blank" class="block bg-blue-600 text-white text-center font-bold mt-2 py-3 px-6 rounded-full hover:bg-blue-700">احجز موعدك</a>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <!-- =============================================== -->
        <!-- ================= الصفحة الرئيسية ================ -->
        <!-- =============================================== -->
        <section id="home" class="page-content active">
            <header class="bg-white">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24">
                    <div class="grid md:grid-cols-2 gap-12 items-center">
                        <div class="text-center md:text-right">
                             <p data-lang-key="hero_subtitle" class="text-xl md:text-2xl text-gray-600 font-medium mb-2">استشاري جراحات التجميل والإصلاح</p>
                            <h1 class="text-5xl md:text-6xl lg:text-7xl font-extrabold text-gray-900 leading-tight mb-4">
                                <span class="text-gradient" data-lang-key="hero_name">الدكتور بيشوي ناجي</span>
                            </h1>
                            <p data-lang-key="hero_description" class="text-lg md:text-xl text-gray-700 mb-8 max-w-2xl mx-auto md:mx-0">
                                خبرة واحترافية لإعادة رسم ملامح الجمال والثقة، مع الالتزام بأعلى معايير الأمان والجودة في الجراحات التجميلية والترميمية.
                            </p>
                            <div class="flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
                                <a href="#" onclick="showPage('procedures')" class="inline-block bg-blue-600 text-white font-bold py-3 px-8 rounded-full hover:bg-blue-700 transition duration-300 transform hover:scale-105 shadow-lg" data-lang-key="hero_cta1">اكتشف خدماتنا</a>
                                <a href="#" onclick="showPage('contact')" class="inline-block bg-gray-200 text-gray-800 font-bold py-3 px-8 rounded-full hover:bg-gray-300 transition duration-300 transform hover:scale-105 shadow-md" data-lang-key="hero_cta2">تواصل الآن</a>
                            </div>
                        </div>
                         <div class="flex justify-center items-center order-first md:order-last">
                            <img src="https://raw.githubusercontent.com/surgerymastersacademy/DrBishoyNagy/72d09ffe0e2905cbd7ab94eaa45ee0e2e5f686f7/Images/professional%20Smile.png" alt="صورة الدكتور بيشوي ناجي" class="rounded-3xl w-full max-w-md object-cover shadow-2xl">
                        </div>
                    </div>
                </div>
            </header>
        </section>

        <!-- =============================================== -->
        <!-- ================ صفحة عن الدكتور ================ -->
        <!-- =============================================== -->
        <section id="about" class="page-content py-16 md:py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900">
                        <span data-lang-key="about_title_1">مسيرة تجمع بين</span> <span class="text-gradient" data-lang-key="about_title_2">العلم، الفن، والتعليم</span>
                    </h2>
                </div>
                <div class="grid md:grid-cols-5 gap-12 items-center">
                    <div class="md:col-span-2">
                        <img src="https://raw.githubusercontent.com/surgerymastersacademy/DrBishoyNagy/174c205ad5633f173c2944a1fa60d01a866d4377/Images/BlueScrub.png" alt="صورة الدكتور بيشوي ناجي ببدلة العمليات" class="rounded-2xl shadow-2xl w-full">
                    </div>
                    <div class="md:col-span-3">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4" data-lang-key="about_subtitle">د. بيشوي ناجي: جراح، مؤلف، ومعلم</h3>
                        <p class="text-gray-600 leading-relaxed mb-6" data-lang-key="about_mission">
                            "أؤمن أن جراحة التجميل هي نقطة التقاء العلم الدقيق بالفن الإبداعي. رسالتي لا تقتصر على إجراء الجراحات، بل تمتد إلى تعليم وتدريب جيل جديد من الجراحين، ومشاركة المعرفة لرفع مستوى المجال بأكمله. كل مريض هو قصة فريدة، وهدفي هو تحقيق أفضل نتيجة ممكنة تعيد له الثقة وتلبي طموحاته، مع التزام كامل بالصدق والأمانة الطبية."
                        </p>
                        <div class="space-y-4">
                            <div class="flex items-start gap-4">
                                <div class="flex-shrink-0 bg-blue-100 text-blue-600 rounded-full p-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M12 14l9-5-9-5-9 5 9 5z" /><path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-5.998 12.078 12.078 0 01.665-6.479L12 14z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-5.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222 4 2.222V20M12 14.75L2 10l10-5.25L22 10l-10 4.75z" /></svg></div>
                                <div>
                                    <h4 class="font-bold text-lg" data-lang-key="about_point1_title">مؤهلات علمية وخبرة عملية</h4>
                                    <p class="text-gray-600" data-lang-key="about_point1_desc">استشاري جراحة التجميل والإصلاح، حاصل على درجة الدكتوراه والزمالة المصرية. عضو الجمعية المصرية لجراحي التجميل والإصلاح (ESPRS) وصاحب خبرة واسعة في كبرى المستشفيات.</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-4">
                                <div class="flex-shrink-0 bg-purple-100 text-purple-600 rounded-full p-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" /></svg></div>
                                <div>
                                    <h4 class="font-bold text-lg" data-lang-key="about_point2_title">مؤلف ومؤسس منصات تعليمية</h4>
                                    <p class="text-gray-600" data-lang-key="about_point2_desc">مؤلف كتاب "Plasticology" وهو مرجع هام في المجال، ومؤسس منصة "Surgery Masters Academy" التعليمية بهدف تبسيط العلوم الجراحية ومشاركة الخبرات مع الأطباء حول العالم.</p>
                                </div>
                            </div>
                             <div class="flex items-start gap-4">
                                <div class="flex-shrink-0 bg-green-100 text-green-600 rounded-full p-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.364 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.364-1.118L2.44 9.099c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" /></svg></div>
                                <div>
                                    <h4 class="font-bold text-lg" data-lang-key="about_point3_title">متحدث بالمؤتمرات العلميه </h4>
                                    <p class="text-gray-600" data-lang-key="about_point3_desc">متحدث و منظم في العديد من المؤتمرات الالمختصه بجراحات التجميل، مما يعكس شغفه بالتطوير المستمر ومشاركة المعرفة.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- =============================================== -->
        <!-- ================ صفحة شرح العمليات ============== -->
        <!-- =============================================== -->
        <section id="procedures" class="page-content py-16 md:py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-8">
                    <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900">
                        <span data-lang-key="proc_title_1">دليلك المبسط</span> <span class="text-gradient" data-lang-key="proc_title_2">للعمليات الجراحية</span>
                    </h2>
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto" data-lang-key="proc_subtitle">معلومات واضحة ومبسطة لمساعدتك على فهم الإجراءات المختلفة واتخاذ القرار المناسب لك.</p>
                </div>
                
                <!-- Search and Filter Section -->
                <div class="sticky top-24 bg-gray-50/90 backdrop-blur-sm z-10 py-4 mb-8 rounded-b-xl shadow-sm">
                    <div class="max-w-4xl mx-auto px-4">
                        <div class="flex flex-col sm:flex-row gap-4 items-center">
                            <!-- Search Input -->
                            <div class="relative w-full sm:w-2/3">
                                <input type="text" id="search-input" data-lang-key="proc_search" placeholder="ابحث عن عملية بالاسم أو الوصف..." class="w-full p-3 ps-10 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
                                <svg class="w-5 h-5 text-gray-400 absolute right-4 top-1/2 -translate-y-1/2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                            </div>
                            <!-- Filter Dropdown -->
                            <div id="filter-dropdown-container" class="relative w-full sm:w-1/3">
                                <button id="filter-dropdown-button" class="w-full flex items-center justify-between p-3 bg-white border border-gray-300 rounded-full font-semibold text-gray-700">
                                    <span id="filter-button-text" data-lang-key="proc_filter">تصنيف العمليات</span>
                                    <svg class="w-5 h-5 text-gray-500 transition-transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                                </button>
                                <div id="filter-dropdown-menu" class="hidden absolute top-full ltr:left-0 rtl:right-0 mt-2 w-full bg-white rounded-lg shadow-xl z-20 border max-h-60 overflow-y-auto">
                                    <!-- Dropdown items will be inserted here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="max-w-4xl mx-auto space-y-4" id="accordion-container">
                    <p class="text-center text-gray-500" data-lang-key="proc_loading">جاري تحميل بيانات العمليات...</p>
                </div>
            </div>
        </section>


        <!-- =============================================== -->
        <!-- ================ صفحة آراء المرضى ============== -->
        <!-- =============================================== -->
        <section id="testimonials" class="page-content py-16 md:py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900">
                        <span data-lang-key="test_title_1">شهادات نعتز بها من</span> <span class="text-gradient" data-lang-key="test_title_2">مرضانا</span>
                    </h2>
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto" data-lang-key="test_subtitle">قصص حقيقية تعكس مدى التزامنا بتقديم أفضل رعاية وتحقيق نتائج استثنائية.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="testimonials-container">
                    <p class="text-center text-gray-500 md:col-span-2 lg:col-span-3" data-lang-key="test_loading">جاري تحميل آراء المرضى...</p>
                </div>
                <div id="loading-indicator" class="text-center mt-8 hidden">
                    <p class="text-gray-500" data-lang-key="test_loading_more">جاري تحميل المزيد...</p>
                </div>
            </div>
        </section>

        <!-- =============================================== -->
        <!-- ================= صفحة تواصل معنا =============== -->
        <!-- =============================================== -->
        <section id="contact" class="page-content py-16 md:py-24 bg-white">
             <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900">
                        <span data-lang-key="contact_title_1">هل لديك استفسار؟</span> <span class="text-gradient" data-lang-key="contact_title_2">تواصل معنا</span>
                    </h2>
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto" data-lang-key="contact_subtitle">فريقنا جاهز للرد على جميع استفساراتك ومساعدتك في حجز موعدك الأول نحو تحقيق حلمك.</p>
                </div>
                <div class="max-w-4xl mx-auto bg-gray-50 rounded-2xl shadow-lg p-8 md:p-12">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">
                        <!-- Contact Info -->
                        <div class="text-center md:text-right">
                            <h3 class="text-2xl font-bold text-gray-800 mb-4" data-lang-key="contact_info_title">معلومات الحجز</h3>
                            <div class="space-y-4 text-lg">
                                <p class="flex items-center justify-center md:justify-start gap-3">
                                    <svg class="w-6 h-6 text-green-500" fill="currentColor" viewBox="0 0 16 16"><path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.89 7.89 0 0 0 13.6 2.326zM7.994 14.521a6.57 6.57 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"/></svg>
                                    <span class="font-semibold text-gray-600" data-lang-key="contact_whatsapp">للحجز والاستفسار:</span><a href="https://wa.me/201022323113" target="_blank" class="text-blue-600 hover:underline" dir="ltr">+20 102 232 3113</a>
                                </p>
                            </div>
                             <div class="mt-6">
                                <a href="https://maps.app.goo.gl/Eb1zNiYi9Y8tb5FX8" target="_blank" class="inline-flex items-center gap-2 bg-white text-blue-600 font-bold py-3 px-6 rounded-full border-2 border-blue-600 hover:bg-blue-50 transition duration-300 shadow-md">
                                    <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" /></svg>
                                    <span data-lang-key="contact_map">موقعنا على الخريطة</span>
                                </a>
                            </div>
                        </div>
                        <!-- Social Media Section -->
                        <div class="text-center md:text-right bg-blue-50 p-6 rounded-xl">
                            <h3 class="text-2xl font-bold text-gray-800 mb-2" data-lang-key="contact_social_title">ابقوا على تواصل معنا!</h3>
                            <p class="text-gray-700 mb-4" data-lang-key="contact_social_desc">تابعونا على منصات التواصل الاجتماعي لآخر الأخبار، نصائح تجميلية، وقصص نجاح ملهمة.</p>
                            <div class="flex justify-center md:justify-start space-x-5 space-x-reverse">
                                <a href="https://www.facebook.com/DrBishoyNagy/" target="_blank" class="text-gray-500 hover:text-blue-700 transition-transform transform hover:scale-110" aria-label="Facebook"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.873V15h-2.903v-3h2.903V9.5c0-2.846 1.844-4.5 4.542-4.5 1.303 0 2.413.232 2.741.336v2.531h-1.542c-1.353 0-1.616.643-1.616 1.583V12h3.19l-.53 3h-2.66V21.873C18.343 21.128 22 16.991 22 12z"></path></svg></a>
                                <a href="https://www.instagram.com/drbishoynagy/" target="_blank" class="text-gray-500 hover:text-pink-600 transition-transform transform hover:scale-110" aria-label="Instagram"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.14 4.771 1.691 4.91 4.91.058 1.265.069 1.645.069 4.849 0 3.204-.012 3.584-.069 4.849-.14 3.225-1.693 4.772-4.91 4.91-1.265.058-1.645.069-4.849.069-3.204 0-3.584-.012-4.849-.069-3.225-.14-4.773-1.693-4.91-4.91-.058-1.265-.069-1.645-.069-4.849 0-3.204.012-3.584.069-4.849.14-3.225 1.691-4.772 4.91-4.91 1.265-.058 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.214-6.529 2.349-6.743 6.743-.058 1.28-.072 1.688-.072 4.948 0 3.259.014 3.668.072 4.948.214 4.358 2.349 6.53 6.743 6.742 1.28.058 1.688.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.213 6.531-2.35 6.742-6.742.058-1.28.072-1.689.072-4.948 0-3.259-.014-3.667-.072-4.947-.214-4.358-2.35-6.53-6.742-6.743-1.28-.058-1.688-.072-4.948-.072zM12 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm4.865-8.865a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"></path></svg></a>
                                <a href="https://www.tiktok.com/@doctorbishoy" target="_blank" class="text-gray-500 hover:text-black transition-transform transform hover:scale-110" aria-label="TikTok"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-2.43.05-4.86-.95-6.43-2.8-1.58-1.87-2.05-4.35-1.59-6.63.45-2.27 2.13-4.21 4.12-5.29 1.98-1.08 4.25-1.27 6.31-.61.21-.49.39-.99.58-1.48.05-1.07.03-2.14-.02-3.21z"></path></svg></a>
                                <a href="https://www.youtube.com/@DrBishoyNagy" target="_blank" class="text-gray-500 hover:text-red-600 transition-transform transform hover:scale-110" aria-label="YouTube"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- =============================================== -->
    <!-- ==================== التذييل =================== -->
    <!-- =============================================== -->
    <footer class="bg-gray-800 text-gray-300">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- About Column -->
                <div class="md:col-span-1">
                    <img class="h-16 w-auto mb-4" src="https://raw.githubusercontent.com/surgerymastersacademy/DrBishoyNagy/174c205ad5633f173c2944a1fa60d01a866d4377/Images/Dr%20Bishoy%20Logo%202024.png" alt="شعار العيادة">
                    <p class="text-sm" data-lang-key="footer_about">عيادة متخصصة في تقديم أرقى خدمات جراحة التجميل والإصلاح، نجمع بين الخبرة العلمية وأحدث التقنيات لتحقيق أفضل النتائج.</p>
                </div>
                <!-- Quick Links Column -->
                <div>
                    <h4 class="font-bold text-white mb-4" data-lang-key="footer_links">روابط سريعة</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" onclick="showPage('home')" class="hover:text-white" data-lang-key="nav_home">الرئيسية</a></li>
                        <li><a href="#" onclick="showPage('about')" class="hover:text-white" data-lang-key="nav_about">عن الدكتور</a></li>
                        <li><a href="#" onclick="showPage('procedures')" class="hover:text-white" data-lang-key="nav_procedures">شرح العمليات</a></li>
                        <li><a href="#" onclick="showPage('testimonials')" class="hover:text-white" data-lang-key="nav_testimonials">آراء المرضى</a></li>
                    </ul>
                </div>
                <!-- Contact Column -->
                <div>
                    <h4 class="font-bold text-white mb-4" data-lang-key="nav_contact">تواصل معنا</h4>
                     <ul class="space-y-3 text-sm">
                        <li class="flex items-center gap-2">
                            <svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 16 16"><path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.89 7.89 0 0 0 13.6 2.326zM7.994 14.521a6.57 6.57 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"/></svg>
                            <a href="https://wa.me/201022323113" target="_blank" class="hover:text-white" dir="ltr">+20 102 232 3113</a>
                        </li>
                        <li class="flex items-center gap-2">
                            <svg class="w-5 h-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" /></svg>
                            <a href="https://maps.app.goo.gl/Eb1zNiYi9Y8tb5FX8" target="_blank" class="hover:text-white" data-lang-key="contact_map">عرض على الخريطة</a>
                        </li>
                    </ul>
                </div>
                <!-- Social Media Column -->
                <div>
                    <h4 class="font-bold text-white mb-4" data-lang-key="footer_social">تابعنا</h4>
                    <div class="flex space-x-4 space-x-reverse">
                         <a href="https://www.facebook.com/DrBishoyNagy/" target="_blank" class="text-gray-400 hover:text-white transition-transform transform hover:scale-110" aria-label="Facebook"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.873V15h-2.903v-3h2.903V9.5c0-2.846 1.844-4.5 4.542-4.5 1.303 0 2.413.232 2.741.336v2.531h-1.542c-1.353 0-1.616.643-1.616 1.583V12h3.19l-.53 3h-2.66V21.873C18.343 21.128 22 16.991 22 12z"></path></svg></a>
                         <a href="https://www.instagram.com/drbishoynagy/" target="_blank" class="text-gray-400 hover:text-white transition-transform transform hover:scale-110" aria-label="Instagram"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.14 4.771 1.691 4.91 4.91.058 1.265.069 1.645.069 4.849 0 3.204-.012 3.584-.069 4.849-.14 3.225-1.693 4.772-4.91 4.91-1.265.058-1.645.069-4.849.069-3.204 0-3.584-.012-4.849-.069-3.225-.14-4.773-1.693-4.91-4.91-.058-1.265-.069-1.645-.069-4.849 0-3.204.012-3.584.069-4.849.14-3.225 1.691-4.772 4.91-4.91 1.265-.058 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.214-6.529 2.349-6.743 6.743-.058 1.28-.072 1.688-.072 4.948 0 3.259.014 3.668.072 4.948.214 4.358 2.349 6.53 6.743 6.742 1.28.058 1.688.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.213 6.531-2.35 6.742-6.742.058-1.28.072-1.689.072-4.948 0-3.259-.014-3.667-.072-4.947-.214-4.358-2.35-6.53-6.742-6.743-1.28-.058-1.688-.072-4.948-.072zM12 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm4.865-8.865a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"></path></svg></a>
                         <a href="https://www.tiktok.com/@doctorbishoy" target="_blank" class="text-gray-400 hover:text-white transition-transform transform hover:scale-110" aria-label="TikTok"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-2.43.05-4.86-.95-6.43-2.8-1.58-1.87-2.05-4.35-1.59-6.63.45-2.27 2.13-4.21 4.12-5.29 1.98-1.08 4.25-1.27 6.31-.61.21-.49.39-.99.58-1.48.05-1.07.03-2.14-.02-3.21z"></path></svg></a>
                         <a href="https://www.youtube.com/@DrBishoyNagy" target="_blank" class="text-gray-400 hover:text-white transition-transform transform hover:scale-110" aria-label="YouTube"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg></a>
                    </div>
                </div>
            </div>
            <div class="mt-8 border-t border-gray-700 pt-6 text-center text-sm">
                <p>&copy; <span id="current-year"></span> <span data-lang-key="footer_copyright">جميع الحقوق محفوظة | دكتور بيشوي ناجي</span></p>
            </div>
        </div>
    </footer>

    <!-- =============================================== -->
    <!-- ================ JavaScript =================== -->
    <!-- =============================================== -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // URLs for Google Sheets CSV data
            const proceduresSheetURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQ1J7WZ6sD4kipoypdEe_-FLH5GHoKI7mmYXpYSiQChr3FQuxfA8sp2To7OqoxscYnbBNtTvsHMTOS4/pub?gid=0&single=true&output=csv';
            const testimonialsSheetURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQ1J7WZ6sD4kipoypdEe_-FLH5GHoKI7mmYXpYSiQChr3FQuxfA8sp2To7OqoxscYnbBNtTvsHMTOS4/pub?gid=361401559&single=true&output=csv';

            // --- Global State ---
            let allProcedures = [];
            let allTestimonials = [];
            let testimonialsToShow = 6;
            let currentCategory = 'الكل';
            let searchTerm = '';
            let isLoadingTestimonials = false;

            // --- Navigation Logic ---
            const allPages = document.querySelectorAll('.page-content');
            const desktopNavLinks = document.querySelectorAll('#desktop-nav .nav-link');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const openIcon = mobileMenuButton.querySelector('svg:first-child');
            const closeIcon = mobileMenuButton.querySelector('svg:last-child');

            window.showPage = function(pageId) {
                allPages.forEach(page => page.classList.remove('active'));
                const targetPage = document.getElementById(pageId);
                if (targetPage) targetPage.classList.add('active');

                desktopNavLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('onclick').includes(`'${pageId}'`)) {
                        link.classList.add('active');
                    }
                });

                if (mobileMenu.style.display === "block") {
                    mobileMenu.style.display = "none";
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                    openIcon.classList.remove('hidden');
                    closeIcon.classList.add('hidden');
                }
                window.scrollTo(0, 0);
            }

            mobileMenuButton.addEventListener('click', () => {
                const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
                mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
                mobileMenu.style.display = isExpanded ? "none" : "block";
                openIcon.classList.toggle('hidden', !isExpanded);
                closeIcon.classList.toggle('hidden', isExpanded);
            });
            
            document.querySelectorAll('.nav-link-mobile').forEach(link => {
                link.addEventListener('click', () => showPage(link.getAttribute('onclick').match(/'([^']+)'/)[1]));
            });

            // --- Data Fetching and Parsing ---
            function csvToArray(csv) {
                const rows = csv.trim().split('\n');
                const headers = rows.shift().split(',').map(h => h.trim().replace(/"/g, ''));
                return rows.map(row => {
                    const values = row.match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g) || [];
                    return headers.reduce((obj, header, i) => {
                        obj[header] = values[i] ? values[i].trim().replace(/^"|"$/g, '') : '';
                        return obj;
                    }, {});
                });
            }

            // --- Procedures Page Logic ---
            const accordionContainer = document.getElementById('accordion-container');
            const searchInput = document.getElementById('search-input');
            const filterDropdownButton = document.getElementById('filter-dropdown-button');
            const filterDropdownMenu = document.getElementById('filter-dropdown-menu');
            const filterButtonText = document.getElementById('filter-button-text');

            function renderProcedures(procedures) {
                if (!accordionContainer) return;
                accordionContainer.innerHTML = '';
                if (procedures.length === 0) {
                    accordionContainer.innerHTML = `<p class="text-center text-gray-500" data-lang-key="proc_no_results">لا توجد نتائج تطابق بحثك.</p>`;
                    return;
                }
                
                procedures.forEach(item => {
                    const accordionItem = document.createElement('div');
                    accordionItem.className = 'bg-white rounded-lg shadow-sm';
                    accordionItem.innerHTML = `
                        <button class="accordion-header w-full text-right p-5 flex justify-between items-center font-bold text-lg text-gray-800 hover:bg-gray-50">
                            <span>${item.Title}</span>
                            <svg class="w-6 h-6 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="accordion-content px-5 pb-5 text-gray-600">
                            <div class="border-t pt-4">
                                <h4 class="font-bold mb-2" data-lang-key="proc_card_who">لمن هذا الإجراء؟</h4><p class="mb-4">${item.ForWhom}</p>
                                <h4 class="font-bold mb-2" data-lang-key="proc_card_details">تفاصيل الإجراء</h4><p class="mb-4">${item.Details}</p>
                                <div class="grid grid-cols-2 md:grid-cols-3 gap-4 text-sm">
                                    <div class="bg-blue-50 p-3 rounded-lg"><strong class="block text-blue-800" data-lang-key="proc_card_duration">مدة العملية:</strong> ${item.Duration}</div>
                                    <div class="bg-green-50 p-3 rounded-lg"><strong class="block text-green-800" data-lang-key="proc_card_recovery">فترة النقاهة:</strong> ${item.Recovery}</div>
                                    <div class="bg-purple-50 p-3 rounded-lg col-span-2 md:col-span-1"><strong class="block text-purple-800" data-lang-key="proc_card_results">النتائج المتوقعة:</strong> ${item.Results}</div>
                                </div>
                            </div>
                        </div>`;
                    accordionContainer.appendChild(accordionItem);
                });

                document.querySelectorAll('.accordion-header').forEach(button => {
                    button.addEventListener('click', () => {
                        const content = button.nextElementSibling;
                        const icon = button.querySelector('svg');
                        const isExpanded = content.style.maxHeight;
                        document.querySelectorAll('.accordion-content').forEach(acc => {
                            acc.style.maxHeight = null;
                            acc.previousElementSibling.querySelector('svg').classList.remove('rotate-180');
                        });
                        if (!isExpanded) {
                            content.style.maxHeight = content.scrollHeight + "px";
                            icon.classList.add('rotate-180');
                        }
                    });
                });
            }

            function applyFiltersAndRender() {
                let filtered = [...allProcedures];
                if (currentCategory !== 'الكل' && currentCategory !== 'All') {
                    filtered = filtered.filter(p => p.Category === currentCategory);
                }
                if (searchTerm) {
                    filtered = filtered.filter(p => 
                        p.Title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                        p.Details.toLowerCase().includes(searchTerm.toLowerCase()) ||
                        p.ForWhom.toLowerCase().includes(searchTerm.toLowerCase())
                    );
                }
                renderProcedures(filtered);
            }

            async function loadProcedures() {
                try {
                    const response = await fetch(proceduresSheetURL);
                    if (!response.ok) throw new Error('Network response was not ok.');
                    const csvText = await response.text();
                    allProcedures = csvToArray(csvText);
                    
                    const categories = ['الكل', ...new Set(allProcedures.map(p => p.Category))];
                    filterDropdownMenu.innerHTML = categories.map(cat => 
                        `<a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-50" data-category="${cat}">${cat}</a>`
                    ).join('');

                    document.querySelectorAll('#filter-dropdown-menu a').forEach(link => {
                        link.addEventListener('click', (e) => {
                            e.preventDefault();
                            currentCategory = link.dataset.category;
                            filterButtonText.textContent = currentCategory;
                            filterDropdownMenu.classList.add('hidden');
                            filterDropdownButton.querySelector('svg').classList.remove('rotate-180');
                            applyFiltersAndRender();
                        });
                    });

                    searchInput.addEventListener('input', (e) => {
                        searchTerm = e.target.value;
                        applyFiltersAndRender();
                    });

                    applyFiltersAndRender();
                } catch (error) {
                    accordionContainer.innerHTML = '<p class="text-center text-red-500" data-lang-key="proc_error">عفواً، حدث خطأ أثناء تحميل البيانات. يرجى المحاولة مرة أخرى.</p>';
                    console.error('Error fetching procedures:', error);
                }
            }
            
            filterDropdownButton.addEventListener('click', () => {
                filterDropdownMenu.classList.toggle('hidden');
                filterDropdownButton.querySelector('svg').classList.toggle('rotate-180');
            });
            
            document.addEventListener('click', (e) => {
                if (!document.getElementById('filter-dropdown-container').contains(e.target)) {
                    filterDropdownMenu.classList.add('hidden');
                    filterDropdownButton.querySelector('svg').classList.remove('rotate-180');
                }
            });


            // --- Testimonials Page Logic ---
            const testimonialsContainer = document.getElementById('testimonials-container');
            const loadingIndicator = document.getElementById('loading-indicator');

            function renderTestimonials(append = false) {
                if (!testimonialsContainer) return;
                
                const testimonialsToRender = allTestimonials.slice(0, testimonialsToShow);
                
                if (!append) {
                    testimonialsContainer.innerHTML = '';
                }

                const alreadyRenderedCount = append ? testimonialsContainer.children.length : 0;

                for(let i = alreadyRenderedCount; i < testimonialsToRender.length; i++) {
                    const t = testimonialsToRender[i];
                    const card = document.createElement('div');
                    card.className = 'card p-8 flex flex-col bg-white rounded-2xl shadow-lg h-full';
                    card.innerHTML = `
                        <div class="flex-shrink-0 text-center">
                            <h3 class="text-xl font-bold text-gradient mb-4">${t.Procedure}</h3>
                        </div>
                        <div class="flex-grow my-4 relative text-center">
                             <svg class="w-16 h-16 text-gray-100 absolute top-0 right-0 -mt-8 -mr-4 z-0" fill="currentColor" viewBox="0 0 32 32">
                                <path d="M9.333 22.667h4L16 16V9.333H6.667v9.334H9.333zM22.667 22.667h4L29.333 16V9.333H20v9.334h2.667z"></path>
                            </svg>
                            <p class="text-gray-700 text-lg leading-relaxed relative z-10">"${t.Quote}"</p>
                        </div>
                        <div class="flex-shrink-0 border-t pt-4 mt-auto">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <div class="text-4xl rtl:ml-3 ltr:mr-3">${t.CountryFlag}</div>
                                    <p class="font-bold text-gray-800">${t.PatientInitials}</p>
                                </div>
                                <div class="flex">
                                    ${'★'.repeat(5).split('').map(s => `<span class="text-yellow-400 text-xl">${s}</span>`).join('')}
                                </div>
                            </div>
                        </div>`;
                    testimonialsContainer.appendChild(card);
                }
            }
            
            async function loadTestimonials() {
                try {
                    const response = await fetch(testimonialsSheetURL);
                    if (!response.ok) throw new Error('Network response was not ok.');
                    const csvText = await response.text();
                    allTestimonials = csvToArray(csvText).sort(() => 0.5 - Math.random()); // Shuffle on load
                    renderTestimonials();
                } catch (error) {
                    testimonialsContainer.innerHTML = '<p class="text-center text-red-500 md:col-span-2 lg:col-span-3" data-lang-key="test_error">عفواً، حدث خطأ أثناء تحميل البيانات. يرجى المحاولة مرة أخرى.</p>';
                    console.error('Error fetching testimonials:', error);
                }
            }

            // Infinite Scroll Logic
            window.addEventListener('scroll', () => {
                if (isLoadingTestimonials || testimonialsToShow >= allTestimonials.length) return;

                if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 500) {
                    isLoadingTestimonials = true;
                    if(loadingIndicator) loadingIndicator.classList.remove('hidden');
                    
                    setTimeout(() => { // Simulate network delay
                        testimonialsToShow += 6;
                        renderTestimonials(true); // Append new cards
                        isLoadingTestimonials = false;
                        if(loadingIndicator) loadingIndicator.classList.add('hidden');
                    }, 500);
                }
            });


            // --- Language Switcher Logic ---
            const langSwitcher = document.getElementById('lang-switcher');
            const langSlider = document.getElementById('lang-slider');
            const arSpan = langSwitcher.querySelector('span:nth-child(2)');
            const enSpan = langSwitcher.querySelector('span:nth-child(3)');

            const translations = {
                ar: {
                    nav_home: "الرئيسية", nav_about: "عن الدكتور", nav_procedures: "شرح العمليات", nav_testimonials: "آراء المرضى", nav_contact: "تواصل معنا", nav_book: "احجز موعدك",
                    hero_subtitle: "استشاري جراحات التجميل والإصلاح", hero_name: "الدكتور بيشوي ناجي", hero_description: "خبرة واحترافية لإعادة رسم ملامح الجمال والثقة، مع الالتزام بأعلى معايير الأمان والجودة في الجراحات التجميلية والترميمية.", hero_cta1: "اكتشف خدماتنا", hero_cta2: "تواصل الآن",
                    about_title_1: "مسيرة تجمع بين", about_title_2: "العلم، الفن، والتعليم", about_subtitle: "د. بيشوي ناجي: جراح، مؤلف، ومعلم", about_mission: "\"أؤمن أن جراحة التجميل هي نقطة التقاء العلم الدقيق بالفن الإبداعي. رسالتي لا تقتصر على إجراء الجراحات، بل تمتد إلى تعليم وتدريب جيل جديد من الجراحين، ومشاركة المعرفة لرفع مستوى المجال بأكمله. كل مريض هو قصة فريدة، وهدفي هو تحقيق أفضل نتيجة ممكنة تعيد له الثقة وتلبي طموحاته، مع التزام كامل بالصدق والأمانة الطبية.\"", about_point1_title: "مؤهلات علمية وخبرة عملية", about_point1_desc: "استشاري جراحة التجميل والإصلاح، حاصل على درجة الدكتوراه والزمالة المصرية. عضو الجمعية المصرية لجراحي التجميل والإصلاح (ESPRS) وصاحب خبرة واسعة في كبرى المستشفيات التعليمية والعسكرية.", about_point2_title: "مؤلف ومؤسس منصات تعليمية", about_point2_desc: "مؤلف كتاب \"Plasticology\" وهو مرجع هام في المجال، ومؤسس منصة \"Surgery Masters Academy\" التعليمية بهدف تبسيط العلوم الجراحية ومشاركة الخبرات مع الأطباء حول العالم.", about_point3_title: "متحدث دولي وحائز على جوائز", about_point3_desc: "متحدث في العديد من المؤتمرات الدولية، وحائز على جائزة \"النجم الصاعد\" من المؤتمر الدولي للتجميل (ICC)، مما يعكس شغفه بالتطوير المستمر ومشاركة المعرفة.",
                    proc_title_1: "دليلك المبسط", proc_title_2: "للعمليات الجراحية", proc_subtitle: "معلومات واضحة ومبسطة لمساعدتك على فهم الإجراءات المختلفة واتخاذ القرار المناسب لك.", proc_search: "ابحث عن عملية بالاسم أو الوصف...", proc_filter: "تصنيف العمليات", proc_loading: "جاري تحميل بيانات العمليات...", proc_error: "عفواً، حدث خطأ أثناء تحميل البيانات. يرجى المحاولة مرة أخرى.", proc_no_results: "لا توجد نتائج تطابق بحثك.", proc_card_who: "لمن هذا الإجراء؟", proc_card_details: "تفاصيل الإجراء", proc_card_duration: "مدة العملية:", proc_card_recovery: "فترة النقاهة:", proc_card_results: "النتائج المتوقعة:",
                    test_title_1: "شهادات نعتز بها من", test_title_2: "مرضانا", test_subtitle: "قصص حقيقية تعكس مدى التزامنا بتقديم أفضل رعاية وتحقيق نتائج استثنائية.", test_loading: "جاري تحميل آراء المرضى...", test_loading_more: "جاري تحميل المزيد...", test_error: "عفواً، حدث خطأ أثناء تحميل البيانات. يرجى المحاولة مرة أخرى.",
                    contact_title_1: "هل لديك استفسار؟", contact_title_2: "تواصل معنا", contact_subtitle: "فريقنا جاهز للرد على جميع استفساراتك ومساعدتك في حجز موعدك الأول نحو تحقيق حلمك.", contact_info_title: "معلومات الحجز", contact_whatsapp: "للحجز والاستفسار:", contact_map: "موقعنا على الخريطة", contact_social_title: "ابقوا على تواصل معنا!", contact_social_desc: "تابعونا على منصات التواصل الاجتماعي لآخر الأخبار، نصائح تجميلية، وقصص نجاح ملهمة.",
                    footer_about: "عيادة متخصصة في تقديم أرقى خدمات جراحة التجميل والإصلاح، نجمع بين الخبرة العلمية وأحدث التقنيات لتحقيق أفضل النتائج.", footer_links: "روابط سريعة", footer_social: "تابعنا", footer_copyright: "جميع الحقوق محفوظة | دكتور بيشوي ناجي"
                },
                en: {
                    nav_home: "Home", nav_about: "About", nav_procedures: "Procedures", nav_testimonials: "Testimonials", nav_contact: "Contact", nav_book: "Book Now",
                    hero_subtitle: "Consultant Plastic & Reconstructive Surgeon", hero_name: "Dr. Bishoy Nagy", hero_description: "Experience and professionalism to redefine beauty and confidence, committed to the highest standards of safety and quality in cosmetic and reconstructive surgeries.", hero_cta1: "Discover Our Services", hero_cta2: "Contact Us Now",
                    about_title_1: "A Journey of", about_title_2: "Science, Art, and Education", about_subtitle: "Dr. Bishoy Nagy: Surgeon, Author, and Educator", about_mission: "\"I believe that plastic surgery is where precise science meets creative art. My mission is not only to perform surgeries but also to educate and train a new generation of surgeons, sharing knowledge to elevate the entire field. Every patient is a unique story, and my goal is to achieve the best possible result that restores their confidence and fulfills their aspirations, with a full commitment to honesty and medical ethics.\"", about_point1_title: "Academic Qualifications & Practical Experience", about_point1_desc: "Consultant Plastic & Reconstructive Surgeon, holding a Ph.D. and the Egyptian Board Certificate. A member of the Egyptian Society of Plastic & Reconstructive Surgery (ESPRS) with extensive experience in major educational and military hospitals.", about_point2_title: "Author and Founder of Educational Platforms", about_point2_desc: "Author of the reference book \"Plasticology\" and founder of the \"Surgery Masters Academy\" educational platform, aiming to simplify surgical sciences and share expertise with doctors worldwide.", about_point3_title: "International Speaker and Award Winner", about_point3_desc: "A speaker at numerous international conferences and winner of the \"Rising Star\" award from the International Cosmetic Congress (ICC), reflecting his passion for continuous development and knowledge sharing.",
                    proc_title_1: "Your Simple Guide to", proc_title_2: "Surgical Procedures", proc_subtitle: "Clear and simplified information to help you understand the different procedures and make the right decision for you.", proc_search: "Search for a procedure by name or description...", proc_filter: "Filter by Category", proc_loading: "Loading procedures data...", proc_error: "Sorry, an error occurred while loading the data. Please try again.", proc_no_results: "No results match your search.", proc_card_who: "Who is this for?", proc_card_details: "Procedure Details", proc_card_duration: "Duration:", proc_card_recovery: "Recovery:", proc_card_results: "Expected Results:",
                    test_title_1: "Testimonials We Cherish from", test_title_2: "Our Patients", test_subtitle: "Real stories that reflect our commitment to providing the best care and achieving exceptional results.", test_loading: "Loading testimonials...", test_loading_more: "Loading more...", test_error: "Sorry, an error occurred while loading the data. Please try again.",
                    contact_title_1: "Have a question?", contact_title_2: "Contact Us", contact_subtitle: "Our team is ready to answer all your inquiries and help you book your first appointment towards achieving your dream.", contact_info_title: "Booking Information", contact_whatsapp: "For Booking & Inquiries:", contact_map: "Our Location on Map", contact_social_title: "Stay Connected with Us!", contact_social_desc: "Follow us on social media for the latest news, beauty tips, and inspiring success stories.",
                    footer_about: "A specialized clinic dedicated to providing the finest plastic and reconstructive surgery services, combining scientific expertise with the latest technologies to achieve the best results.", footer_links: "Quick Links", footer_social: "Follow Us", footer_copyright: "All Rights Reserved | Dr. Bishoy Nagy"
                }
            };
            
            function setLanguage(lang) {
                document.documentElement.lang = lang;
                document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';

                document.querySelectorAll('[data-lang-key]').forEach(el => {
                    const key = el.dataset.langKey;
                    if (translations[lang][key]) {
                        if (el.tagName === 'INPUT' && el.type === 'text') {
                            el.placeholder = translations[lang][key];
                        } else {
                            el.textContent = translations[lang][key];
                        }
                    }
                });

                // Update lang switcher UI
                if (lang === 'ar') {
                    langSlider.style.transform = 'translateX(0%)';
                    arSpan.classList.add('text-white');
                    enSpan.classList.remove('text-white');
                    enSpan.classList.add('text-gray-600');
                } else {
                    langSlider.style.transform = 'translateX(100%)';
                    enSpan.classList.add('text-white');
                    arSpan.classList.remove('text-white');
                    arSpan.classList.add('text-gray-600');
                }
                
                localStorage.setItem('preferredLanguage', lang);
            }

            langSwitcher.addEventListener('click', () => {
                const currentLang = document.documentElement.lang;
                const newLang = currentLang === 'ar' ? 'en' : 'ar';
                setLanguage(newLang);
            });

            // --- Initial Load ---
            const preferredLanguage = localStorage.getItem('preferredLanguage') || 'ar';
            setLanguage(preferredLanguage);
            loadProcedures();
            loadTestimonials();
            document.getElementById('current-year').textContent = new Date().getFullYear();
        });
    </script>
</body>
</html>
